<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: FetchMovement Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classFetchMovement-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FetchMovement Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classFetchMovement.html" title="The FetchMovement class. ">FetchMovement</a> class.  
 <a href="classFetchMovement.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fetchmovement_8h_source.html">fetchmovement.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1bf728d52720e41eda38728ebc0b43f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFetchMovement.html#a1bf728d52720e41eda38728ebc0b43f8">purePursuit2</a> (double range, double x, double bearing, double &amp;lin, double &amp;ang, double &amp;state)</td></tr>
<tr class="memdesc:a1bf728d52720e41eda38728ebc0b43f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an optimal angular and linear velocity for the Fetch to travel, based on a calculated curvature where the range to the next goal point is the chosen 'look-ahead point'. Angular and Linear Velocity are proportional to this path curvature: w = curvature*V.  <a href="#a1bf728d52720e41eda38728ebc0b43f8">More...</a><br /></td></tr>
<tr class="separator:a1bf728d52720e41eda38728ebc0b43f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cbc437959bf16582bc57a4e1c64b58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFetchMovement.html#a26cbc437959bf16582bc57a4e1c64b58">rpyFromPose</a> (geometry_msgs::PoseStamped pose, double &amp;fetchRoll, double &amp;fetchPitch, double &amp;fetchYaw)</td></tr>
<tr class="memdesc:a26cbc437959bf16582bc57a4e1c64b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the Roll, Pitch and Yaw via reference of a Robot given its pose described as a a Quaternion being the input parameter.  <a href="#a26cbc437959bf16582bc57a4e1c64b58">More...</a><br /></td></tr>
<tr class="separator:a26cbc437959bf16582bc57a4e1c64b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68c8b26e41ca9c6bca4dba2ccaf5643"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFetchMovement.html#af68c8b26e41ca9c6bca4dba2ccaf5643">normaliseAngle</a> (double theta)</td></tr>
<tr class="memdesc:af68c8b26e41ca9c6bca4dba2ccaf5643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an angle outside of the range -2PI to 2PI radians to the equivalent angle inside that range.  <a href="#af68c8b26e41ca9c6bca4dba2ccaf5643">More...</a><br /></td></tr>
<tr class="separator:af68c8b26e41ca9c6bca4dba2ccaf5643"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classFetchMovement.html" title="The FetchMovement class. ">FetchMovement</a> class. </p>
<dl class="section author"><dt>Author</dt><dd>Adam Scicluna </dd>
<dd>
Tor Wei Lim </dd>
<dd>
Nikhil Senthilvel </dd></dl>
<dl class="section date"><dt>Date</dt><dd>6/05/2022 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af68c8b26e41ca9c6bca4dba2ccaf5643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af68c8b26e41ca9c6bca4dba2ccaf5643">&#9670;&nbsp;</a></span>normaliseAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FetchMovement::normaliseAngle </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>theta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an angle outside of the range -2PI to 2PI radians to the equivalent angle inside that range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">theta</td><td>- The angle to be mapped inside the range -2PI to 2PI radians.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double - Function will return the input angle in radians mapped to a value in the range -2PI to 2PI. </dd></dl>

</div>
</div>
<a id="a1bf728d52720e41eda38728ebc0b43f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf728d52720e41eda38728ebc0b43f8">&#9670;&nbsp;</a></span>purePursuit2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FetchMovement::purePursuit2 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>bearing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>ang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an optimal angular and linear velocity for the Fetch to travel, based on a calculated curvature where the range to the next goal point is the chosen 'look-ahead point'. Angular and Linear Velocity are proportional to this path curvature: w = curvature*V. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">range</td><td>- The current distance from the fetch robot to its goal pose. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bearing</td><td>- The bearing difference from the Fetch heading to goal position. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lin</td><td>- Reference to the variable controlling linear velocity of Fetch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ang</td><td>- Reference to the variable controlling angular velocity of Fetch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The lin and ang parameters are updated via reference, meaning no return variable is necessary. For optimisation, if the bearing difference is between +- 2 degrees when the Fetch is moving forward, angular velocity will be set to zero. Similarly, when reversing, the angular velocity will be set to zero if the bearing difference is within +- 5 degrees, a larger range to allow for the Fetch to reverse more quickly as the target distance decreases. </dd></dl>

</div>
</div>
<a id="a26cbc437959bf16582bc57a4e1c64b58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26cbc437959bf16582bc57a4e1c64b58">&#9670;&nbsp;</a></span>rpyFromPose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FetchMovement::rpyFromPose </td>
          <td>(</td>
          <td class="paramtype">geometry_msgs::PoseStamped&#160;</td>
          <td class="paramname"><em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>fetchRoll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>fetchPitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>fetchYaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the Roll, Pitch and Yaw via reference of a Robot given its pose described as a a Quaternion being the input parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fetchRoll</td><td>- Reference to the variable holding the current roll value of the Fetch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fetchPitch</td><td>- Reference to the variable holding the current pitch value of the Fetch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fetchYaw</td><td>- Reference to the variable holding the current yaw value of the Fetch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The roll, pitch and yaw parameters are updated via reference, meaning no return variable is necessary. The function obtains the roll, pitch, yaw from the pose Quaternion by first converting the Quaternion to a 3x3 Rotation Matrix, in which the Roll, Pitch and Yaw can then be directly extracted. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="fetchmovement_8h_source.html">fetchmovement.h</a></li>
<li>fetchmovement.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
